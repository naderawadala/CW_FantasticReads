@using CW_FantasticReads.Helpers
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>@ViewBag.Title - FantasticReads</title>
	@Styles.Render("~/Content/css")
	@Styles.Render("~/Content/Site.css")
	@Scripts.Render("~/bundles/modernizr")
	<script src="@Url.Content("~/Scripts/jquery-3.4.1.min.js")" type="text/javascript"></script>
	<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
	<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				@Html.ActionLink("FantasticReads", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav nav-pills">
					@if (LoginSession.Current.IsAdministrator)
					{
						<li>@Html.ActionLink("Books", "Index", "Book")</li>
						<li>@Html.ActionLink("Authors", "Index", "Author")</li>
						<li>@Html.ActionLink("Genres", "Index", "Genre")</li>
						<li>@Html.ActionLink("Series", "Index", "Series")</li>
						<li>@Html.ActionLink("Users", "Index", "User")</li>
					}
					else
					{

					}
				</ul>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav nav-pills">
					@if (LoginSession.Current.IsAuthenticated)
					{
						<li class="whitetext">Logged in as @LoginSession.Current.Username</li>
						if (LoginSession.Current.IsAuthenticated)
						{
							<li>@Html.ActionLink("Logout", "Logout", "User")</li>
						}
					}
					else
					{
						<li>
							@Html.ActionLink("Register", "Register", "User")
						</li>
						<li>
							@Html.ActionLink("Login", "Login", "User")
						</li>
					}
				</ul>

			</div>
			@if (LoginSession.Current.IsAuthenticated)
			{
			<div class="navbar" id="formSearch">
				<div class="container">
					@using (Html.BeginForm("Browse", "Home", FormMethod.Get))
					{
						<div class="form-horizontal">
							<div class="form-group search-control">
								<div>
									@Html.TextBox("searchValue", null, new { placeholder = "Search by book name", @class = "form-control" })
								</div>
							</div>
						</div>
					}
				</div>
			</div>
			}
		</div>
	</div>
	<div class="container body-content topmargin">
		@RenderBody()
		<hr />
		<footer>
			<p>&copy; @DateTime.Now.Year - My ASP.NET Application</p>
		</footer>
	</div>

	@Scripts.Render("~/bundles/jquery")
	@Scripts.Render("~/bundles/bootstrap")
	@RenderSection("scripts", required: false)
	<script type="text/javascript">
		$("#btnSearch").on("click", function () {
			$("#formSearch").slideToggle("slow");
		});
	</script>
</body>
</html>
